default: build host_test clippy

clippy:
    cargo clippy --release
    cargo clippy --features log --target aarch64-apple-darwin --workspace --all-targets --exclude sketch

clippy_ci:
    cargo clippy --release --features defmt --workspace --lib --bins --exclude sketch -- -D warnings
    cargo clippy --features log --target aarch64-apple-darwin --workspace --all-targets --exclude sketch -- -D warnings
    cargo clippy --features defmt --target aarch64-apple-darwin --workspace --all-targets --exclude sketch -- -D warnings
    
host_test:
    cargo test --features log --target aarch64-apple-darwin --workspace --exclude sketch

build:
    cargo build --release
    cargo build --features log --target aarch64-apple-darwin --workspace --all-targets --exclude sketch

run:
    cargo run --release --bin bockli

ci: build host_test clippy_ci  